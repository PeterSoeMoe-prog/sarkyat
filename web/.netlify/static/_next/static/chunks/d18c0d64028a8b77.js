(globalThis.TURBOPACK||(globalThis.TURBOPACK=[])).push(["object"==typeof document?document.currentScript:void 0,73884,97466,e=>{"use strict";var t=e.i(71645);e.i(51718);var s=e.i(18357),r=e.i(67426);e.i(36180);var a=e.i(98925);function i(e){return{id:e.id,thai:e.thai??"",burmese:e.burmese??null,count:Number.isFinite(Number(e.count))?Number(e.count):Number.isFinite(Number(e.hit))?Number(e.hit):0,status:e.status??"queue",category:e.category??null,updatedAt:function(e){if(!e)return 0;if("number"==typeof e&&Number.isFinite(e))return e;if(e instanceof Date)return e.getTime();if("function"==typeof e?.toMillis)try{let t=e.toMillis();return Number.isFinite(t)?t:0}catch{return 0}return"number"==typeof e?.seconds?Math.round(1e3*e.seconds+("number"==typeof e.nanoseconds?e.nanoseconds:0)/1e6):0}(e.updatedAt),ai_explanation:"string"==typeof e.ai_explanation?e.ai_explanation:null}}function n(e){return`users/${e}/vocab`}function l(e,t,s){let l=(0,r.getFirebaseDb)(),o=(0,a.collection)(l,n(e)),u=(0,a.query)(o,(0,a.orderBy)("updatedAt","desc"));return(0,a.onSnapshot)(u,{includeMetadataChanges:!0},e=>{t({items:e.docs.map(e=>e.data()).filter(e=>!!e&&"string"==typeof e.id).map(i),fromCache:e.metadata.fromCache})},e=>{s?.(e)})}async function o(e,t){let s=(0,r.getFirebaseDb)(),i=(0,a.doc)(s,n(e),t.id),l={...t,updatedAt:(0,a.serverTimestamp)()};await (0,a.setDoc)(i,l,{merge:!0})}async function u(e,t){let s=(0,r.getFirebaseDb)(),i=(0,a.doc)(s,"users",e);await (0,a.setDoc)(i,{...t,updatedAt:(0,a.serverTimestamp)()},{merge:!0})}async function c(e){let t=(0,r.getFirebaseDb)(),s=(0,a.doc)(t,"users",e),i=await (0,a.getDoc)(s);if(i.exists()){let e=i.data();return{dailyHitTarget:e.dailyHitTarget,studyStartDate:e.studyStartDate,googleAiApiKey:e.googleAiApiKey}}return null}async function d(e,t){let s=(0,r.getFirebaseDb)(),i=(0,a.doc)(s,n(e),t);await (0,a.deleteDoc)(i)}async function m(e,t){let s=(0,r.getFirebaseDb)(),l=(0,a.doc)(s,n(e),t),o=await (0,a.getDocFromServer)(l);return o.exists()?i(o.data()):null}async function x(e){let t=(0,r.getFirebaseDb)(),s=(0,a.collection)(t,n(e)),i=await (0,a.getDocs)(s);for(let e=0;e<i.docs.length;e+=450){let s=(0,a.writeBatch)(t);for(let t of i.docs.slice(e,e+450))s.delete(t.ref);await s.commit()}}async function p(e,t){let s=(0,r.getFirebaseDb)(),i=t.map(e=>({thai:(e.thai??"").trim(),burmese:(e.burmese??null)?.toString().trim()||null,category:(e.category??null)?.toString().trim()||null,count:Number.isFinite(Number(e.count))?Number(e.count):0,status:"drill"===String(e.status??"")||"ready"===String(e.status??"")?String(e.status):"queue"})).filter(e=>e.thai.length>0),l=null;for(let t=0;t<i.length;t+=450){let r=i.slice(t,t+450),o=(0,a.writeBatch)(s);for(let t of r){let r=globalThis.crypto?.randomUUID?.()??String(Date.now())+Math.random(),i=(0,a.doc)(s,n(e),String(r));l||(l=i.id),o.set(i,{id:i.id,thai:t.thai,burmese:t.burmese,count:t.count,status:t.status,category:t.category,updatedAt:(0,a.serverTimestamp)()},{merge:!0})}await o.commit()}return{importedCount:i.length,firstId:l}}function h(){let[e,a]=(0,t.useState)(null),[i,n]=(0,t.useState)(!1),[o,u]=(0,t.useState)(null),[c,d]=(0,t.useState)(null),[m,x]=(0,t.useState)(null),[p,h]=(0,t.useState)([]),[g,b]=(0,t.useState)(!0),[f,y]=(0,t.useState)(!0),[v,w]=(0,t.useState)(!0),[j,F]=(0,t.useState)(null);(0,t.useEffect)(()=>{if(!r.isFirebaseConfigured){a(null),h([]),b(!1),y(!0);return}let e=(0,r.getFirebaseAuth)();a(e.currentUser?.uid??null),n(e.currentUser?.isAnonymous??!1),u(e.currentUser?.email??null),d(e.currentUser?.displayName??null),x(e.currentUser?.photoURL??null);let t=(0,s.onAuthStateChanged)(e,e=>{a(e?.uid??null),n(e?.isAnonymous??!1),u(e?.email??null),d(e?.displayName??null),x(e?.photoURL??null)});return()=>t()},[]),(0,t.useEffect)(()=>{let e=()=>w(!0),t=()=>w(!1);return w(navigator.onLine),window.addEventListener("online",e),window.addEventListener("offline",t),()=>{window.removeEventListener("online",e),window.removeEventListener("offline",t)}},[]),(0,t.useEffect)(()=>{if(!e||i){h([]),b(!1),y(!0),F(null);return}b(!0),F(null);try{let t=l(e,e=>{h(e.items),y(e.fromCache),b(!1)},e=>{F(`${e.code??"firestore-error"}: ${e.message??""}`.trim()),h([]),y(!0),b(!1)});return()=>t()}catch(e){F(e?.message?String(e.message):"Failed to start Firestore listener."),h([]),y(!0),b(!1);return}},[e,i]);let N=v?g||f?"syncing":"live":"offline",D=!!e&&!i&&"live"===N;return(0,t.useMemo)(()=>({uid:e,isAnonymous:i,email:o,displayName:c,photoURL:m,items:p,loading:g,isLive:D,status:N,vocabError:j}),[e,i,o,c,m,p,g,D,N,j])}e.s(["clearVocabulary",()=>x,"deleteVocabulary",()=>d,"fetchVocabularyEntryFromServer",()=>m,"getUserSettings",()=>c,"importVocabularyRows",()=>p,"listenVocabulary",()=>l,"saveUserSettings",()=>u,"upsertVocabulary",()=>o],97466),e.s(["useVocabulary",()=>h],73884)},91499,e=>{"use strict";var t=e.i(71645);function s(){let e=(0,t.useRef)(null);return(0,t.useEffect)(()=>{e.current=new Audio("/sounds/tap.mp3"),e.current.load()},[]),(0,t.useCallback)(()=>{e.current&&(e.current.currentTime=0,e.current.play().catch(e=>{console.warn("Audio play blocked:",e)}))},[])}e.s(["useTapSound",()=>s])},81789,e=>{"use strict";var t=e.i(43476),s=e.i(71645),r=e.i(46932),a=e.i(18566),i=e.i(73884),n=e.i(91499);function l({progress:e,size:s,stroke:r}){let a=(s-r)/2,i=2*Math.PI*a,n=i*Math.max(0,Math.min(1,e));return(0,t.jsxs)("div",{className:"relative",style:{width:s,height:s,filter:"drop-shadow(0 0 26px rgba(55, 255, 170, 0.35))"},children:[(0,t.jsxs)("svg",{width:s,height:s,viewBox:`0 0 ${s} ${s}`,className:"block",children:[(0,t.jsx)("defs",{children:(0,t.jsxs)("linearGradient",{id:"ring",x1:"0%",y1:"0%",x2:"100%",y2:"100%",children:[(0,t.jsx)("stop",{offset:"0%",stopColor:"#6DFFE2"}),(0,t.jsx)("stop",{offset:"55%",stopColor:"#39FF88"}),(0,t.jsx)("stop",{offset:"100%",stopColor:"#2CFF73"})]})}),(0,t.jsx)("circle",{cx:s/2,cy:s/2,r:a,fill:"transparent",stroke:"rgba(255,255,255,0.10)",strokeWidth:r}),(0,t.jsx)("circle",{cx:s/2,cy:s/2,r:a,fill:"transparent",stroke:"url(#ring)",strokeWidth:r,strokeLinecap:"round",strokeDasharray:`${n} ${i-n}`,transform:`rotate(-90 ${s/2} ${s/2})`})]}),(0,t.jsx)("div",{className:"absolute inset-0 rounded-full bg-black/20"})]})}function o(){let e=(0,a.useRouter)(),o=(0,n.useTapSound)(),{uid:u,isAnonymous:c,items:d,loading:m}=(0,i.useVocabulary)(),x=!!u&&!c,p=(0,s.useMemo)(()=>new Date,[]),h=(0,s.useMemo)(()=>{let e;return e=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"][p.getMonth()]??"",`${e} ${p.getDate()}, ${p.getFullYear()}`},[p]),g=(0,s.useMemo)(()=>{let e={drill:0,queue:0,ready:0};for(let t of d)"drill"===t.status&&e.drill++,"queue"===t.status&&e.queue++,"ready"===t.status&&e.ready++;return e},[d]),b=(0,s.useMemo)(()=>d.length,[d.length]),f=(0,s.useMemo)(()=>b?g.ready/b:0,[b,g.ready]),y=(0,s.useMemo)(()=>x?d.reduce((e,t)=>e+(Number.isFinite(Number(t.count))?Number(t.count):0),0):0,[x,d]),v=(0,s.useMemo)(()=>x?g.drill+g.queue:0,[x,g.drill,g.queue]),w=(0,s.useMemo)(()=>{let e=g.queue,t=g.drill,s=g.ready,r=Math.max(1,e+t+s),a=e=>Math.round(e/r*100);return{queue:{count:e,pct:a(e)},drill:{count:t,pct:a(t)},ready:{count:s,pct:a(s)},total:r}},[g.drill,g.queue,g.ready]),j="w-full rounded-2xl px-5 py-4 text-[18px] font-semibold text-white shadow-[0_18px_50px_rgba(0,0,0,0.30)]";return(0,t.jsx)("div",{className:"min-h-screen bg-[#0A0B0F] text-white",children:(0,t.jsx)("div",{className:"min-h-screen",style:{background:"radial-gradient(1200px 800px at 50% 10%, rgba(255,255,255,0.08), rgba(0,0,0,0) 55%), radial-gradient(900px 600px at 50% 60%, rgba(255,83,145,0.09), rgba(0,0,0,0) 60%), #0A0B0F"},children:(0,t.jsxs)("div",{className:"mx-auto w-full max-w-md px-4 pt-[calc(env(safe-area-inset-top)+18px)] pb-[calc(env(safe-area-inset-bottom)+118px)]",children:[(0,t.jsx)("div",{className:"text-center",children:(0,t.jsx)("div",{className:"bg-gradient-to-r from-[#49D2FF] via-[#B36BFF] to-[#FF4D6D] bg-clip-text text-transparent text-[34px] font-black tracking-[-0.04em] uppercase",children:"Sar Kyat Pro"})}),(0,t.jsxs)("div",{className:"mt-6 relative rounded-3xl border border-white/10 bg-white/5 px-5 py-4 backdrop-blur-xl shadow-[0_25px_80px_rgba(0,0,0,0.35)] overflow-hidden cursor-pointer active:scale-[0.98] transition-all",onClick:()=>{o(),e.push("/calendar")},children:[(0,t.jsxs)("div",{className:"absolute top-4 left-0 right-0 flex items-center justify-center gap-2 pointer-events-none",children:[(0,t.jsx)("div",{className:"h-[6px] w-[6px] rounded-full bg-white/30"}),(0,t.jsx)("div",{className:"h-[6px] w-[6px] rounded-full bg-white/70"})]}),(0,t.jsxs)("div",{className:"text-center pt-1.5 relative",children:[(0,t.jsxs)("div",{className:"flex items-center justify-center relative",children:[(0,t.jsx)("div",{className:"bg-gradient-to-r from-[#49D2FF] via-[#B36BFF] to-[#FF4D6D] bg-clip-text text-transparent text-[60px] sm:text-[72px] font-semibold leading-none tracking-[-0.03em]",style:{filter:"drop-shadow(0 18px 45px rgba(255,80,150,0.22))"},children:m||!x?"—":v.toLocaleString()}),(0,t.jsx)("div",{className:"absolute top-[8px] right-[10%] sm:right-[15%] text-[16px] sm:text-[20px] font-semibold text-white/55",children:"Hits for"})]}),(0,t.jsx)("div",{className:"mt-2 inline-flex items-center rounded-full border border-white/15 bg-black/20 px-4 py-1.5 text-[16px] font-semibold text-white/90 shadow-[0_12px_40px_rgba(0,0,0,0.30)]",children:h}),(0,t.jsx)("div",{className:"mt-2 text-[12px] font-semibold text-white/35",children:m?"Loading…":x?"":"Sign in required"})]}),(0,t.jsxs)("div",{className:"mt-4 grid grid-cols-2 gap-3",children:[(0,t.jsx)(r.motion.button,{type:"button",whileTap:{scale:.98},whileHover:{scale:1.01},onClick:()=>{o(),e.push("/calendar")},className:j+" bg-gradient-to-r from-[#FF4D6D] via-[#B36BFF] to-[#49D2FF]",children:"Daily List"}),(0,t.jsx)(r.motion.button,{type:"button",whileTap:{scale:.98},whileHover:{scale:1.01},onClick:()=>{o(),e.push("/counter")},className:j+" bg-gradient-to-r from-[#FF4D94] via-[#FF4D6D] to-[#FF7A00]",children:"Start Study"})]})]}),(0,t.jsxs)("div",{className:"mt-8 grid grid-cols-[1fr_auto] items-center gap-6",children:[(0,t.jsx)("div",{className:"flex items-center justify-center",children:(0,t.jsx)(l,{progress:f,size:160,stroke:22})}),(0,t.jsxs)("div",{className:"min-w-[156px]",children:[(0,t.jsxs)("div",{className:"space-y-3 text-[14px] font-semibold text-white/80",children:[(0,t.jsxs)("div",{className:"flex items-center justify-between gap-3",children:[(0,t.jsxs)("div",{className:"flex items-center gap-2",children:[(0,t.jsx)("span",{className:"h-[10px] w-[10px] rounded-full bg-[#FF4D6D]"}),(0,t.jsx)("span",{children:"Queue"})]}),(0,t.jsxs)("span",{className:"tabular-nums",children:[w.queue.count.toLocaleString()," (",w.queue.pct,"%)"]})]}),(0,t.jsxs)("div",{className:"flex items-center justify-between gap-3",children:[(0,t.jsxs)("div",{className:"flex items-center gap-2",children:[(0,t.jsx)("span",{className:"h-[10px] w-[10px] rounded-full bg-[#FFB020]"}),(0,t.jsx)("span",{children:"Drill"})]}),(0,t.jsxs)("span",{className:"tabular-nums",children:[w.drill.count.toLocaleString()," (",w.drill.pct,"%)"]})]}),(0,t.jsxs)("div",{className:"flex items-center justify-between gap-3",children:[(0,t.jsxs)("div",{className:"flex items-center gap-2",children:[(0,t.jsx)("span",{className:"h-[10px] w-[10px] rounded-full bg-[#2CE08B]"}),(0,t.jsx)("span",{children:"Ready"})]}),(0,t.jsxs)("span",{className:"tabular-nums",children:[w.ready.count.toLocaleString()," (",w.ready.pct,"%)"]})]})]}),(0,t.jsx)("div",{className:"mt-5 text-right",children:(0,t.jsxs)("div",{className:"text-[42px] font-semibold leading-none tracking-[-0.02em]",children:["All ",b.toLocaleString()]})})]})]}),(0,t.jsxs)("div",{className:"mt-8 relative rounded-3xl border border-white/10 bg-white/5 px-5 py-2.5 sm:py-4 backdrop-blur-xl shadow-[0_25px_80px_rgba(0,0,0,0.35)] overflow-hidden",children:[(0,t.jsx)("div",{className:"text-center text-[14px] font-semibold text-white/40 pt-1",children:"Total Vocab Counts"}),(0,t.jsx)("div",{className:"mt-2 text-center bg-gradient-to-r from-[#49D2FF] via-[#B36BFF] via-[#FF4D6D] to-[#FFB020] bg-clip-text text-transparent text-[42px] sm:text-[64px] font-semibold leading-none tracking-[-0.03em] whitespace-nowrap overflow-hidden text-ellipsis",style:{filter:"drop-shadow(0 18px 45px rgba(255,80,150,0.20))"},children:m||!x?"—":y.toLocaleString()}),(0,t.jsxs)("div",{className:"mt-4 flex items-center justify-center gap-2",children:[(0,t.jsx)("div",{className:"h-[6px] w-[6px] rounded-full bg-white/70"}),(0,t.jsx)("div",{className:"h-[6px] w-[6px] rounded-full bg-white/30"}),(0,t.jsx)("div",{className:"h-[6px] w-[6px] rounded-full bg-white/30"}),(0,t.jsx)("div",{className:"h-[6px] w-[6px] rounded-full bg-white/30"})]})]})]})})})}e.s(["default",()=>o])}]);