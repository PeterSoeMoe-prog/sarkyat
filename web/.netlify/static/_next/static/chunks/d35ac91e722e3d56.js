(globalThis.TURBOPACK||(globalThis.TURBOPACK=[])).push(["object"==typeof document?document.currentScript:void 0,73884,97466,e=>{"use strict";var t=e.i(71645);e.i(51718);var r=e.i(18357),a=e.i(67426);e.i(36180);var n=e.i(98925);function l(e){return{id:e.id,thai:e.thai??"",burmese:e.burmese??null,count:Number.isFinite(Number(e.count))?Number(e.count):Number.isFinite(Number(e.hit))?Number(e.hit):0,status:e.status??"queue",category:e.category??null,updatedAt:function(e){if(!e)return 0;if("number"==typeof e&&Number.isFinite(e))return e;if(e instanceof Date)return e.getTime();if("function"==typeof e?.toMillis)try{let t=e.toMillis();return Number.isFinite(t)?t:0}catch{return 0}return"number"==typeof e?.seconds?Math.round(1e3*e.seconds+("number"==typeof e.nanoseconds?e.nanoseconds:0)/1e6):0}(e.updatedAt),ai_explanation:"string"==typeof e.ai_explanation?e.ai_explanation:null}}function i(e){return`users/${e}/vocab`}function s(e,t,r){let s=(0,a.getFirebaseDb)(),o=(0,n.collection)(s,i(e)),u=(0,n.query)(o,(0,n.orderBy)("updatedAt","desc"));return(0,n.onSnapshot)(u,{includeMetadataChanges:!0},e=>{t({items:e.docs.map(e=>e.data()).filter(e=>!!e&&"string"==typeof e.id).map(l),fromCache:e.metadata.fromCache})},e=>{r?.(e)})}async function o(e,t){let r=(0,a.getFirebaseDb)(),l=(0,n.doc)(r,i(e),t.id),s={...t,updatedAt:(0,n.serverTimestamp)()};await (0,n.setDoc)(l,s,{merge:!0})}async function u(e,t){let r=(0,a.getFirebaseDb)(),l=(0,n.doc)(r,"users",e);await (0,n.setDoc)(l,{...t,updatedAt:(0,n.serverTimestamp)()},{merge:!0})}async function c(e){let t=(0,a.getFirebaseDb)(),r=(0,n.doc)(t,"users",e),l=await (0,n.getDoc)(r);if(l.exists()){let e=l.data();return{dailyHitTarget:e.dailyHitTarget,studyStartDate:e.studyStartDate,googleAiApiKey:e.googleAiApiKey}}return null}async function d(e,t){let r=(0,a.getFirebaseDb)(),l=(0,n.doc)(r,i(e),t);await (0,n.deleteDoc)(l)}async function m(e,t){let r=(0,a.getFirebaseDb)(),s=(0,n.doc)(r,i(e),t),o=await (0,n.getDocFromServer)(s);return o.exists()?l(o.data()):null}async function p(e){let t=(0,a.getFirebaseDb)(),r=(0,n.collection)(t,i(e)),l=await (0,n.getDocs)(r);for(let e=0;e<l.docs.length;e+=450){let r=(0,n.writeBatch)(t);for(let t of l.docs.slice(e,e+450))r.delete(t.ref);await r.commit()}}async function f(e,t){let r=(0,a.getFirebaseDb)(),l=t.map(e=>({thai:(e.thai??"").trim(),burmese:(e.burmese??null)?.toString().trim()||null,category:(e.category??null)?.toString().trim()||null,count:Number.isFinite(Number(e.count))?Number(e.count):0,status:"drill"===String(e.status??"")||"ready"===String(e.status??"")?String(e.status):"queue"})).filter(e=>e.thai.length>0),s=null;for(let t=0;t<l.length;t+=450){let a=l.slice(t,t+450),o=(0,n.writeBatch)(r);for(let t of a){let a=globalThis.crypto?.randomUUID?.()??String(Date.now())+Math.random(),l=(0,n.doc)(r,i(e),String(a));s||(s=l.id),o.set(l,{id:l.id,thai:t.thai,burmese:t.burmese,count:t.count,status:t.status,category:t.category,updatedAt:(0,n.serverTimestamp)()},{merge:!0})}await o.commit()}return{importedCount:l.length,firstId:s}}function h(){let[e,n]=(0,t.useState)(null),[l,i]=(0,t.useState)(!1),[o,u]=(0,t.useState)(null),[c,d]=(0,t.useState)(null),[m,p]=(0,t.useState)(null),[f,h]=(0,t.useState)([]),[x,g]=(0,t.useState)(!0),[b,y]=(0,t.useState)(!0),[v,w]=(0,t.useState)(!0),[N,j]=(0,t.useState)(null);(0,t.useEffect)(()=>{if(!a.isFirebaseConfigured){n(null),h([]),g(!1),y(!0);return}let e=(0,a.getFirebaseAuth)();n(e.currentUser?.uid??null),i(e.currentUser?.isAnonymous??!1),u(e.currentUser?.email??null),d(e.currentUser?.displayName??null),p(e.currentUser?.photoURL??null);let t=(0,r.onAuthStateChanged)(e,e=>{n(e?.uid??null),i(e?.isAnonymous??!1),u(e?.email??null),d(e?.displayName??null),p(e?.photoURL??null)});return()=>t()},[]),(0,t.useEffect)(()=>{let e=()=>w(!0),t=()=>w(!1);return w(navigator.onLine),window.addEventListener("online",e),window.addEventListener("offline",t),()=>{window.removeEventListener("online",e),window.removeEventListener("offline",t)}},[]),(0,t.useEffect)(()=>{if(!e||l){h([]),g(!1),y(!0),j(null);return}g(!0),j(null);try{let t=s(e,e=>{h(e.items),y(e.fromCache),g(!1)},e=>{j(`${e.code??"firestore-error"}: ${e.message??""}`.trim()),h([]),y(!0),g(!1)});return()=>t()}catch(e){j(e?.message?String(e.message):"Failed to start Firestore listener."),h([]),y(!0),g(!1);return}},[e,l]);let S=v?x||b?"syncing":"live":"offline",F=!!e&&!l&&"live"===S;return(0,t.useMemo)(()=>({uid:e,isAnonymous:l,email:o,displayName:c,photoURL:m,items:f,loading:x,isLive:F,status:S,vocabError:N}),[e,l,o,c,m,f,x,F,S,N])}e.s(["clearVocabulary",()=>p,"deleteVocabulary",()=>d,"fetchVocabularyEntryFromServer",()=>m,"getUserSettings",()=>c,"importVocabularyRows",()=>f,"listenVocabulary",()=>s,"saveUserSettings",()=>u,"upsertVocabulary",()=>o],97466),e.s(["useVocabulary",()=>h],73884)},88653,e=>{"use strict";e.i(47167);var t=e.i(43476),r=e.i(71645),a=e.i(31178),n=e.i(47414),l=e.i(74008),i=e.i(21476),s=e.i(72846),o=r,u=e.i(37806);function c(e,t){if("function"==typeof e)return e(t);null!=e&&(e.current=t)}class d extends o.Component{getSnapshotBeforeUpdate(e){let t=this.props.childRef.current;if(t&&e.isPresent&&!this.props.isPresent){let e=t.offsetParent,r=(0,s.isHTMLElement)(e)&&e.offsetWidth||0,a=(0,s.isHTMLElement)(e)&&e.offsetHeight||0,n=this.props.sizeRef.current;n.height=t.offsetHeight||0,n.width=t.offsetWidth||0,n.top=t.offsetTop,n.left=t.offsetLeft,n.right=r-n.width-n.left,n.bottom=a-n.height-n.top}return null}componentDidUpdate(){}render(){return this.props.children}}function m({children:e,isPresent:a,anchorX:n,anchorY:l,root:i}){let s=(0,o.useId)(),m=(0,o.useRef)(null),p=(0,o.useRef)({width:0,height:0,top:0,left:0,right:0,bottom:0}),{nonce:f}=(0,o.useContext)(u.MotionConfigContext),h=function(...e){return r.useCallback(function(...e){return t=>{let r=!1,a=e.map(e=>{let a=c(e,t);return r||"function"!=typeof a||(r=!0),a});if(r)return()=>{for(let t=0;t<a.length;t++){let r=a[t];"function"==typeof r?r():c(e[t],null)}}}}(...e),e)}(m,e.props?.ref??e?.ref);return(0,o.useInsertionEffect)(()=>{let{width:e,height:t,top:r,left:o,right:u,bottom:c}=p.current;if(a||!m.current||!e||!t)return;let d="left"===n?`left: ${o}`:`right: ${u}`,h="bottom"===l?`bottom: ${c}`:`top: ${r}`;m.current.dataset.motionPopId=s;let x=document.createElement("style");f&&(x.nonce=f);let g=i??document.head;return g.appendChild(x),x.sheet&&x.sheet.insertRule(`
          [data-motion-pop-id="${s}"] {
            position: absolute !important;
            width: ${e}px !important;
            height: ${t}px !important;
            ${d}px !important;
            ${h}px !important;
          }
        `),()=>{g.contains(x)&&g.removeChild(x)}},[a]),(0,t.jsx)(d,{isPresent:a,childRef:m,sizeRef:p,children:o.cloneElement(e,{ref:h})})}let p=({children:e,initial:a,isPresent:l,onExitComplete:s,custom:o,presenceAffectsLayout:u,mode:c,anchorX:d,anchorY:p,root:h})=>{let x=(0,n.useConstant)(f),g=(0,r.useId)(),b=!0,y=(0,r.useMemo)(()=>(b=!1,{id:g,initial:a,isPresent:l,custom:o,onExitComplete:e=>{for(let t of(x.set(e,!0),x.values()))if(!t)return;s&&s()},register:e=>(x.set(e,!1),()=>x.delete(e))}),[l,x,s]);return u&&b&&(y={...y}),(0,r.useMemo)(()=>{x.forEach((e,t)=>x.set(t,!1))},[l]),r.useEffect(()=>{l||x.size||!s||s()},[l]),"popLayout"===c&&(e=(0,t.jsx)(m,{isPresent:l,anchorX:d,anchorY:p,root:h,children:e})),(0,t.jsx)(i.PresenceContext.Provider,{value:y,children:e})};function f(){return new Map}var h=e.i(64978);let x=e=>e.key||"";function g(e){let t=[];return r.Children.forEach(e,e=>{(0,r.isValidElement)(e)&&t.push(e)}),t}let b=({children:e,custom:i,initial:s=!0,onExitComplete:o,presenceAffectsLayout:u=!0,mode:c="sync",propagate:d=!1,anchorX:m="left",anchorY:f="top",root:b})=>{let[y,v]=(0,h.usePresence)(d),w=(0,r.useMemo)(()=>g(e),[e]),N=d&&!y?[]:w.map(x),j=(0,r.useRef)(!0),S=(0,r.useRef)(w),F=(0,n.useConstant)(()=>new Map),C=(0,r.useRef)(new Set),[A,D]=(0,r.useState)(w),[k,I]=(0,r.useState)(w);(0,l.useIsomorphicLayoutEffect)(()=>{j.current=!1,S.current=w;for(let e=0;e<k.length;e++){let t=x(k[e]);N.includes(t)?(F.delete(t),C.current.delete(t)):!0!==F.get(t)&&F.set(t,!1)}},[k,N.length,N.join("-")]);let B=[];if(w!==A){let e=[...w];for(let t=0;t<k.length;t++){let r=k[t],a=x(r);N.includes(a)||(e.splice(t,0,r),B.push(r))}return"wait"===c&&B.length&&(e=B),I(g(e)),D(w),null}let{forceRender:E}=(0,r.useContext)(a.LayoutGroupContext);return(0,t.jsx)(t.Fragment,{children:k.map(e=>{let r=x(e),a=(!d||!!y)&&(w===k||N.includes(r));return(0,t.jsx)(p,{isPresent:a,initial:(!j.current||!!s)&&void 0,custom:i,presenceAffectsLayout:u,mode:c,root:b,onExitComplete:a?void 0:()=>{if(C.current.has(r)||(C.current.add(r),!F.has(r)))return;F.set(r,!0);let e=!0;F.forEach(t=>{t||(e=!1)}),e&&(E?.(),I(S.current),d&&v?.(),o&&o())},anchorX:m,anchorY:f,children:e},r)})})};e.s(["AnimatePresence",()=>b],88653)},52683,e=>{"use strict";var t=e.i(43476),r=e.i(18566),a=e.i(71645),n=e.i(88653),l=e.i(46932);e.i(51718);var i=e.i(18357),s=e.i(97466),o=e.i(73884),u=e.i(67426);let c="sar-kyat-auth-redirect-pending",d="sar-kyat-auth-redirect-ts",m="sar-kyat-auth-redirect-error",p="sar-kyat-primary-lang",f="sar-kyat-filter-option",h="sar-kyat-recent-ids";function x(){let e=(0,r.useRouter)(),x=(0,r.usePathname)(),{uid:g,isAnonymous:b,items:y,loading:v,status:w,vocabError:N}=(0,o.useVocabulary)(),[j,S]=(0,a.useState)(!1),[F,C]=(0,a.useState)(null),[A,D]=(0,a.useState)(""),[k,I]=(0,a.useState)(""),[B,E]=(0,a.useState)(null),[R,U]=(0,a.useState)(null),[M,P]=(0,a.useState)("thai"),[T,q]=(0,a.useState)("drill"),[$,L]=(0,a.useState)(""),[z,_]=(0,a.useState)("recent"),[V,O]=(0,a.useState)(null),[W,H]=(0,a.useState)(null),[K,G]=(0,a.useState)(!1),[J,Q]=(0,a.useState)(!1),X=e=>{if(e)try{let t=localStorage.getItem(h),r=t?JSON.parse(t):[],a=Array.isArray(r)?r.map(e=>String(e)):[],n=[e,...a.filter(t=>t!==e)].slice(0,250);localStorage.setItem(h,JSON.stringify(n)),localStorage.setItem("sar-kyat-last-active-vocab-id",e)}catch{}};(0,a.useEffect)(()=>{if(!window.location.pathname.startsWith("/category"))return;let e=new URLSearchParams(window.location.search),t=e.get("cat"),r=t?String(t).trim():null;O(r&&r.length?r:null);let a=e.get("from"),n=e.get("id"),l="counter"===a&&!!n;G(l),H(l?String(n??"").trim():null),Q(!0)},[x]),(0,a.useEffect)(()=>{try{let e=localStorage.getItem(p);("thai"===e||"burmese"===e)&&P(e)}catch{}},[]),(0,a.useEffect)(()=>{try{let e=localStorage.getItem(f);("all"===e||"recent"===e||"queue"===e||"drill"===e||"ready"===e||"quized"===e)&&q(e)}catch{}},[]),(0,a.useEffect)(()=>{let e=0,t=null,r=()=>{e++;try{let e="1"===sessionStorage.getItem(c);U(e?"Completing sign-inâ€¦":null);let r=sessionStorage.getItem(m);if(r){E(r),U(null),sessionStorage.removeItem(m),null!=t&&window.clearInterval(t);return}}catch{}e>=40&&null!=t&&window.clearInterval(t)};return r(),t=window.setInterval(r,250),()=>{null!=t&&window.clearInterval(t)}},[]);let Y=!!g&&!b,Z="/category"===x||x.startsWith("/category/")||window.location.pathname.startsWith("/category"),ee=Z&&!V;(0,a.useEffect)(()=>{if(!Z||!J)return;let t=new URLSearchParams(window.location.search).get("cat"),r=V||null;if(((t?String(t).trim():null)??null)===(r??null))return;let a=K&&W?`&from=counter&id=${encodeURIComponent(W)}`:"";r?e.replace(`/category?cat=${encodeURIComponent(r)}${a}`):e.replace(a?`/category?from=counter&id=${encodeURIComponent(W??"")}`:"/category")},[K,W,Z,e,V,J]);let et=(0,a.useMemo)(()=>{if(!Y)return[];let e=new Map;for(let t of y){let r=String(t.category??"").trim()||"Uncategorized",a=e.get(r)??{total:0,done:0},n={total:a.total+1,done:a.done+ +("ready"===t.status)};e.set(r,n)}let t=Array.from(e.entries()).map(([e,t])=>({name:e,total:t.total,done:t.done}));return t.sort((e,t)=>t.total-e.total||e.name.localeCompare(t.name)),t},[Y,y]),er=(0,a.useMemo)(()=>{if(!V)return null;let e=et.find(e=>e.name===V)??null;return e?.total??null},[et,V]),ea=[["#FF4D6D","#B36BFF"],["#49D2FF","#22C55E"],["#FFB020","#FF4D94"],["#60A5FA","#B36BFF"],["#2CE08B","#49D2FF"],["#FF7A00","#FF3B30"]];(0,a.useMemo)(()=>Y?y.length:0,[Y,y.length]);let en="rounded-full bg-[var(--surface)]/80 px-4 py-2 text-[13px] font-semibold text-[color:var(--foreground)] backdrop-blur-xl border border-[color:var(--border)] shadow-sm hover:shadow-md transition-shadow",el=e=>e.normalize("NFD").replace(/[\u0300-\u036f]/g,"").toLowerCase().trim(),ei=(0,a.useMemo)(()=>{let e={drill:0,queue:0,ready:0};for(let t of y)"drill"===t.status&&e.drill++,"queue"===t.status&&e.queue++,"ready"===t.status&&e.ready++;return e},[y]),es=(0,a.useMemo)(()=>ei.drill>0?"drill":ei.queue>0?"queue":ei.ready>0?"ready":null,[ei]),eo=(0,a.useMemo)(()=>"recent"===T||"quized"===T?T:"all"===T?es??"all":("drill"===T||"queue"===T||"ready"===T)&&0===ei[T]?es??T:T,[T,es,ei]),eu=(0,a.useMemo)(()=>{if(!Y)return[];if(Z){if(!V)return[];let e=y.slice();return(e=e.filter(e=>(String(e.category??"").trim()||"Uncategorized")===V)).sort((e,t)=>e.count-t.count),e}let e=(e,t)=>{try{let r=localStorage.getItem(e);if(!r)return t;return JSON.parse(r)}catch{return t}},t=new Map(e(h,[]).map((e,t)=>[e,t])),r=new Set(e("sar-kyat-quiz-passed-ids",[])),a=new Set(e("sar-kyat-quiz-passed-thai",[])),n=(()=>{try{return localStorage.getItem("sar-kyat-last-active-vocab-id")}catch{return null}})(),l=y.slice();if("recent"===eo)return t.size>0?(l=l.filter(e=>t.has(e.id))).sort((e,r)=>(t.get(e.id)??9999)-(t.get(r.id)??9999)):l.sort((e,t)=>{let r=Number.isFinite(Number(e.updatedAt))?Number(e.updatedAt):0;return(Number.isFinite(Number(t.updatedAt))?Number(t.updatedAt):0)-r}),l;"quized"===eo?l=l.filter(e=>{if(r.has(e.id))return!0;let t=el(e.thai??"");return a.has(t)}):"all"!==eo&&(l=l.filter(e=>e.status===eo));let i={drill:0,queue:1,ready:2};"all"===eo?l.sort((e,t)=>{let r=i[e.status]??9,a=i[t.status]??9;return r!==a?r-a:e.count-t.count}):l.sort((e,t)=>e.count-t.count);let s=el($);if(s.length&&(l=l.filter(e=>{let t=el(e.thai??""),r=el(e.burmese??""),a=el(e.category??"");return t.includes(s)||r.includes(s)||a.includes(s)})),"recent"===z)l.sort((e,r)=>{let a=t.get(e.id),n=t.get(r.id),l=null!=a,i=null!=n;if(l||i){if(l!==i)return l?-1:1;if((a??0)!==(n??0))return(a??0)-(n??0)}let s=Number.isFinite(Number(e.updatedAt))?Number(e.updatedAt):0,o=Number.isFinite(Number(r.updatedAt))?Number(r.updatedAt):0;return o!==s?o-s:e.count-r.count});else if("last"===z){if(n){let e=l.find(e=>e.id===n)??null;e&&(l=[e,...l.filter(e=>e.id!==n)])}}else"countAsc"===z?l.sort((e,t)=>e.count-t.count):"countDesc"===z?l.sort((e,t)=>t.count-e.count):"thaiAsc"===z&&l.sort((e,t)=>el(e.thai??"").localeCompare(el(t.thai??"")));return l},[Y,y,eo,$,z,Z,V]),ec=async()=>{E(null);try{let e=(0,u.getFirebaseAuth)(),t=new i.GoogleAuthProvider;t.setCustomParameters({prompt:"select_account"});try{await (0,i.setPersistence)(e,i.browserLocalPersistence)}catch{try{await (0,i.setPersistence)(e,i.browserSessionPersistence)}catch{}}try{await (0,i.signInWithPopup)(e,t),sessionStorage.removeItem(c),sessionStorage.removeItem(d);return}catch(t){let e=String(t?.code??"");if(!(e.includes("popup")||e.includes("operation-not-supported")||e.includes("auth-domain-config-required")||e.includes("web-storage-unsupported")||e.includes("cancelled")||e.includes("canceled")))throw t}sessionStorage.setItem(c,"1"),sessionStorage.setItem(d,String(Date.now())),await (0,i.signInWithRedirect)(e,t)}catch(e){sessionStorage.removeItem(c),sessionStorage.removeItem(d),E(`${e?.code??"auth-error"}: ${e?.message??""}`.trim())}},ed=async e=>{if(g&&!b){S(!0);try{await (0,s.deleteVocabulary)(g,e)}finally{S(!1)}}},em=async()=>{if(!g||b||!F)return;let e=A.trim(),t=k.trim();if(e){S(!0);try{await (0,s.upsertVocabulary)(g,{...F,thai:e,burmese:t.length?t:null}),C(null)}finally{S(!1)}}};return(0,t.jsx)("div",{className:"min-h-screen bg-[#0A0B0F] text-white",children:(0,t.jsxs)("div",{className:"min-h-screen",style:{background:"radial-gradient(1200px 800px at 50% 10%, rgba(255,255,255,0.08), rgba(0,0,0,0) 55%), radial-gradient(900px 600px at 50% 60%, rgba(255,83,145,0.09), rgba(0,0,0,0) 60%), #0A0B0F"},children:[(0,t.jsxs)("div",{className:"mx-auto w-full max-w-md px-4 pt-[calc(env(safe-area-inset-top)+20px)] pb-[calc(env(safe-area-inset-bottom)+118px)]",children:[Z?null:(0,t.jsx)("div",{className:"flex items-center justify-center",children:(0,t.jsx)("button",{type:"button",onClick:()=>{!g||b||(C({id:globalThis.crypto?.randomUUID?.()??String(Date.now()),thai:"",burmese:null,count:0,status:"queue",category:null}),D(""),I(""))},disabled:!Y||j,"aria-label":"Add",className:!Y||j?"h-14 w-14 rounded-full border-2 border-white/20 bg-white/10 text-white/40 shadow-[0_18px_45px_rgba(0,0,0,0.35)]":"h-14 w-14 rounded-full border-2 border-white/30 bg-gradient-to-br from-[#FF4D6D] via-[#B36BFF] to-[#49D2FF] text-white shadow-[0_18px_60px_rgba(255,80,150,0.28)]",children:(0,t.jsx)("div",{className:"flex h-full w-full items-center justify-center text-[34px] font-semibold leading-none",children:"+"})})}),!Y||v?(0,t.jsx)("div",{className:"mt-3 text-center text-[14px] font-semibold text-[color:var(--muted)]",children:Y?"Loadingâ€¦":"Sign in required"}):null,Y?null:(0,t.jsx)("div",{className:"mt-3 flex items-center justify-center",children:(0,t.jsx)("button",{type:"button",disabled:j,onClick:()=>void ec(),className:en,children:"Sign in"})}),Y&&Z?(0,t.jsxs)("div",{className:"mt-5 flex items-center justify-between",children:[K&&W?(0,t.jsx)("button",{type:"button",onClick:()=>e.push(`/counter?id=${encodeURIComponent(W)}`),className:en,children:"Back"}):(0,t.jsx)("div",{className:"w-20"}),V?(0,t.jsxs)("div",{className:"flex items-baseline gap-2",children:[(0,t.jsx)("div",{className:"bg-gradient-to-r from-[#49D2FF] via-[#B36BFF] to-[#FF4D6D] bg-clip-text text-transparent text-[28px] font-semibold tracking-[-0.02em]",style:{filter:"drop-shadow(0 18px 45px rgba(255,80,150,0.18))"},children:V}),(0,t.jsx)("div",{className:"text-[13px] font-semibold text-white/60 tabular-nums",children:er?.toLocaleString()??""})]}):(0,t.jsxs)("div",{className:"flex items-baseline gap-2",children:[(0,t.jsx)("div",{className:"bg-gradient-to-r from-[#49D2FF] via-[#B36BFF] to-[#FF4D6D] bg-clip-text text-transparent text-[28px] font-semibold tracking-[-0.02em]",style:{filter:"drop-shadow(0 18px 45px rgba(255,80,150,0.18))"},children:"Category"}),(0,t.jsx)("div",{className:"text-[13px] font-semibold text-white/60 tabular-nums",children:et.length.toLocaleString()})]}),V?(0,t.jsx)("button",{type:"button",onClick:()=>O(null),className:en,children:"Close"}):(0,t.jsx)("div",{className:"w-20"})]}):null,Z?null:(0,t.jsxs)("div",{className:"mt-4 flex items-center gap-2",children:[(0,t.jsx)("div",{className:"flex-1",children:(0,t.jsx)("input",{value:$,onChange:e=>L(e.target.value),placeholder:"Search Thai / Burmese / Category",className:"w-full rounded-2xl bg-[var(--surface)]/70 px-4 py-3 text-[14px] font-semibold text-[color:var(--foreground)] placeholder:text-[color:var(--muted)] border border-[color:var(--border)] backdrop-blur-xl shadow-sm focus:outline-none focus:ring-2 focus:ring-white/10"})}),(0,t.jsx)("button",{type:"button",onClick:()=>{let e=["recent","last","countAsc","countDesc","thaiAsc"];_(t=>{let r=e.indexOf(t);return e[(r+1)%e.length]??"recent"})},className:en,children:(e=>{switch(e){case"recent":return"ðŸ•˜ Recent";case"last":return"ðŸ•˜ Last";case"countAsc":return"â†‘ Count";case"countDesc":return"â†“ Count";case"thaiAsc":return"Aâ†’Z Thai"}})(z)})]}),Y&&!Z?(0,t.jsxs)("div",{className:"mt-3 flex items-center justify-center gap-2",children:[(0,t.jsxs)("button",{type:"button",onClick:()=>{P(e=>{let t="thai"===e?"burmese":"thai";try{localStorage.setItem(p,t)}catch{}return t})},className:en,children:["â‡„ ","thai"===M?"Thai":"Burmese"]}),(0,t.jsx)("button",{type:"button",onClick:()=>{let e=["drill","queue","ready","recent","quized","all"];q(t=>{let r=e.indexOf(t),a=e[(r+1)%e.length]??"all";try{localStorage.setItem(f,a)}catch{}return a})},className:en,children:(e=>{switch(e){case"all":return"ðŸš€ All";case"recent":return"ðŸ•˜ Recent";case"queue":return"ðŸ«  Queue";case"drill":return"ðŸ”¥ Drill";case"ready":return"ðŸ’Ž Ready";case"quized":return"âœ… Quized"}})(eo)})]}):null,Y&&Z?(0,t.jsx)("div",{className:"mt-4",children:V?null:(0,t.jsx)("div",{className:"grid grid-cols-3 gap-4",children:et.map((e,r)=>{let a=e.total>0?Math.min(1,e.done/e.total):0,n=Math.round(360*a),l=ea[r%ea.length],i=l?.[0]??"#49D2FF",s=l?.[1]??"#B36BFF",o=e.total>0&&e.done===e.total;return(0,t.jsxs)("button",{type:"button",onClick:()=>O(e.name),className:"relative aspect-square w-full rounded-full p-[6px] shadow-[0_18px_60px_rgba(0,0,0,0.35)] transition-transform active:scale-[0.99]",children:[(0,t.jsx)("div",{className:"absolute inset-0 rounded-full",style:{background:"radial-gradient(120px 120px at 50% 35%, rgba(255,255,255,0.08), rgba(0,0,0,0) 60%)"}}),(0,t.jsx)("div",{className:"h-full w-full rounded-full",style:{background:`conic-gradient(from 90deg, ${i} 0deg, ${s} ${n}deg, rgba(255,255,255,0.12) 0deg)`},children:(0,t.jsx)("div",{className:"h-full w-full rounded-full p-[6px]",children:(0,t.jsxs)("div",{className:"h-full w-full rounded-full bg-black/20 border border-white/10 backdrop-blur-xl flex flex-col items-center justify-center px-2 text-center",children:[(0,t.jsx)("div",{className:"text-[18px] leading-none "+(o?"opacity-100":"opacity-45"),children:"ðŸ‘‘"}),(0,t.jsx)("div",{className:"mt-1 truncate text-[13px] font-semibold text-white",children:e.name}),(0,t.jsxs)("div",{className:"mt-0.5 text-[12px] font-semibold text-white/80 tabular-nums",children:[e.done,"/",e.total]}),(0,t.jsxs)("div",{className:"mt-1 text-[11px] font-semibold text-white/55",children:[Math.round(100*a),"% Done"]})]})})})]},e.name)})})}):null,Y?null:(0,t.jsx)("div",{className:"mt-3 rounded-2xl bg-[var(--surface)]/70 px-4 py-3 text-[13px] font-semibold text-[color:var(--muted-strong)] border border-[color:var(--border)] backdrop-blur-xl shadow-sm",children:"This app now requires Google sign-in. Anonymous sessions will not sync."}),R?(0,t.jsx)("div",{className:"mt-3 rounded-2xl bg-[var(--surface)] px-4 py-3 text-[13px] font-semibold text-[color:var(--muted-strong)] border border-[color:var(--border)]",children:R}):null,B?(0,t.jsx)("div",{className:"mt-3 rounded-2xl bg-red-500/10 px-4 py-3 text-[13px] font-semibold text-red-600 border border-red-500/20",children:B}):null,N?(0,t.jsxs)("div",{className:"mt-3 rounded-2xl bg-red-500/10 px-4 py-3 text-[13px] font-semibold text-red-600 border border-red-500/20",children:[(0,t.jsxs)("div",{children:["Sync error: ",N]}),(0,t.jsx)("button",{type:"button",onClick:()=>window.location.reload(),className:"mt-2 rounded-full bg-[var(--surface)]/80 px-4 py-2 text-[12px] font-semibold text-[color:var(--foreground)] border border-[color:var(--border)]",children:"Reload"})]}):null,!Z||V?(0,t.jsx)(l.motion.div,{className:"mt-5 space-y-3",initial:"hidden",animate:"show",variants:{hidden:{opacity:0},show:{opacity:1,transition:{when:"beforeChildren",staggerChildren:.04}}},children:(0,t.jsxs)(n.AnimatePresence,{initial:!1,children:[v?Array.from({length:6}).map((e,r)=>(0,t.jsx)(l.motion.div,{className:"h-[92px] rounded-2xl bg-[var(--surface)]/55 shadow-sm border border-[color:var(--border)] backdrop-blur-xl",variants:{hidden:{opacity:0,y:6},show:{opacity:1,y:0}}},`skeleton-${r}`)):eu.map(r=>{let a=(("thai"===M?r.thai:r.burmese??r.thai)??"").toString(),n=(("thai"===M?r.burmese:r.thai)??"").toString().trim(),i=n.length>0&&n!==a;return(0,t.jsx)(l.motion.div,{layout:!0,initial:{opacity:0,y:10},animate:{opacity:1,y:0},exit:{opacity:0,y:8},whileHover:{y:-2},onTap:()=>{Y&&(X(r.id),e.push(`/counter?id=${encodeURIComponent(r.id)}`))},drag:"x",dragConstraints:{left:-90,right:90},dragElastic:.08,dragSnapToOrigin:!0,onDragEnd:async(e,t)=>{if(g&&!b&&!j){if(t.offset.x>72)return void(X(r.id),C(r),D(r.thai??""),I(r.burmese??""));if(t.offset.x<-72){if(!window.confirm("Delete this word?"))return;await ed(r.id)}}},whileTap:{scale:.985},transition:{type:"spring",stiffness:420,damping:38},style:{touchAction:"pan-y"},className:"rounded-2xl bg-[var(--card)] p-4 shadow-[0_10px_28px_rgba(0,0,0,0.20)] border border-[color:var(--border)] backdrop-blur-xl",children:(0,t.jsxs)("div",{className:"flex items-start justify-between gap-3",children:[(0,t.jsxs)("div",{className:"min-w-0 flex-1",children:[(0,t.jsx)("div",{className:"truncate text-[24px] font-bold leading-7 tracking-[-0.01em]",children:a}),i?(0,t.jsx)("div",{className:"mt-2 truncate text-[15px] font-semibold text-[color:var(--muted-strong)]",children:n}):null,ee?(0,t.jsx)("div",{className:"mt-2",children:(0,t.jsx)("span",{className:"inline-flex items-center rounded-full bg-[var(--surface)]/70 px-2.5 py-1 text-[11px] font-semibold text-[color:var(--muted-strong)] border border-[color:var(--border)] backdrop-blur-xl",children:String(r.category??"Uncategorized")||"Uncategorized"})}):null]}),(0,t.jsxs)("div",{className:"shrink-0 text-right",children:[(0,t.jsx)("div",{className:"text-[22px] font-semibold tabular-nums leading-7 text-[color:var(--muted)]",children:r.count}),(0,t.jsx)("div",{className:"text-[11px] font-semibold text-[color:var(--muted)]",children:"count"})]})]})},r.id)}),!v&&Y&&0===eu.length?(0,t.jsxs)(l.motion.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},className:"rounded-2xl bg-[var(--card)] p-6 text-center shadow-sm border border-[color:var(--border)]",children:[(0,t.jsx)("div",{className:"text-[15px] font-semibold",children:0===y.length?"No words yet":"No words match this filter"}),(0,t.jsx)("div",{className:"mt-1 text-[13px] font-medium text-[color:var(--muted)]",children:0===y.length?"Tap â€œAddâ€ to create a sample word.":"Try switching the filter (e.g. All, Ready)."})]},"empty"):null]})}):null]}),(0,t.jsx)(n.AnimatePresence,{children:F?(0,t.jsx)(l.motion.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 z-50 flex items-end justify-center bg-black/40 px-4 pb-[calc(env(safe-area-inset-bottom)+12px)] pt-[calc(env(safe-area-inset-top)+12px)]",onClick:()=>C(null),children:(0,t.jsxs)(l.motion.div,{initial:{y:24,opacity:0},animate:{y:0,opacity:1},exit:{y:24,opacity:0},transition:{duration:.18},className:"w-full max-w-md rounded-3xl bg-[var(--card)] p-4 shadow-xl border border-[color:var(--border)]",onClick:e=>e.stopPropagation(),children:[(0,t.jsxs)("div",{className:"flex items-center justify-between",children:[(0,t.jsx)("div",{className:"text-[17px] font-semibold",children:"Edit Word"}),(0,t.jsx)("button",{type:"button",onClick:()=>C(null),className:"rounded-full bg-[var(--surface)] px-3 py-1.5 text-[12px] font-semibold text-[color:var(--foreground)] border border-[color:var(--border)]",children:"Close"})]}),(0,t.jsxs)("div",{className:"mt-4 space-y-3",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("div",{className:"text-[12px] font-semibold text-[color:var(--muted)]",children:"Thai"}),(0,t.jsx)("input",{value:A,onChange:e=>D(e.target.value),className:"mt-1 w-full rounded-2xl bg-[var(--surface)] px-4 py-3 text-[15px] font-semibold text-[color:var(--foreground)] border border-[color:var(--border)]",placeholder:"Thai word"})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("div",{className:"text-[12px] font-semibold text-[color:var(--muted)]",children:"Burmese"}),(0,t.jsx)("input",{value:k,onChange:e=>I(e.target.value),className:"mt-1 w-full rounded-2xl bg-[var(--surface)] px-4 py-3 text-[15px] font-semibold text-[color:var(--foreground)] border border-[color:var(--border)]",placeholder:"Burmese meaning"})]})]}),(0,t.jsxs)("div",{className:"mt-4 flex gap-2",children:[(0,t.jsx)("button",{type:"button",onClick:em,disabled:!g||b||j||!A.trim(),className:"flex-1 rounded-2xl bg-black px-4 py-3 text-[13px] font-semibold text-white disabled:opacity-40",children:"Save"}),(0,t.jsx)("button",{type:"button",onClick:()=>{C(null),ed(F.id)},disabled:!g||b||j,className:"rounded-2xl bg-[#FF3B30] px-4 py-3 text-[13px] font-semibold text-white disabled:opacity-40",children:"Delete"})]})]})},"edit"):null})]})})}e.s(["default",()=>x])},91547,e=>{"use strict";var t=e.i(43476),r=e.i(52683);function a(){return(0,t.jsx)("div",{className:"min-h-screen bg-[#0A0B0F] text-white",children:(0,t.jsx)("div",{className:"min-h-screen",style:{background:"radial-gradient(1200px 800px at 50% 10%, rgba(255,255,255,0.08), rgba(0,0,0,0) 55%), radial-gradient(900px 600px at 50% 60%, rgba(255,83,145,0.09), rgba(0,0,0,0) 60%), #0A0B0F"},children:(0,t.jsx)("div",{className:"mx-auto w-full max-w-md px-4 pt-[calc(env(safe-area-inset-top)+20px)] pb-[calc(env(safe-area-inset-bottom)+118px)]",children:(0,t.jsx)(r.default,{})})})})}e.s(["default",()=>a])}]);